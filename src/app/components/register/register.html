<div class="register-page">
  <div class="register-card">
    <h2 class="card-title">Ãšj felhasznÃ¡lÃ³</h2>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">

      <div class="form-group">
        <label for="felhasznaloNev">FelhasznÃ¡lÃ³ nÃ©v:</label>
        <input id="felhasznaloNev" type="text" formControlName="userName" placeholder="FelhasznÃ¡lÃ³ nÃ©v" class="form-input"/>
      </div>


      <div class="form-group">
        <label for="role">FelhasznÃ¡lÃ³ tÃ­pusa:</label>
        <select id="role" formControlName="role" class="form-input">
          <option value="" disabled>VÃ¡lassz tÃ­pust</option>
          <option *ngFor="let role of userRoles | keyvalue" [value]="role.value">
            {{ role.value | uppercase }}
          </option>
        </select>
      </div>

      <div class="form-group password-group">
        <label for="password">JelszÃ³:</label>
        <div class="password-wrapper">
          <input #passwordInput id="password" type="password" formControlName="passwordHash" placeholder="********" autocomplete="new-password" class="form-input"/>
          <button type="button" class="toggle-password" (click)="togglePasswordVisibility()">
            <span *ngIf="!showPassword" class="eye-icon">ğŸ‘ï¸</span>
            <span *ngIf="showPassword" class="eye-icon">ğŸ™ˆ</span>
          </button>
        </div>
      </div>

      <div class="validation-list" *ngIf="registerForm.get('passwordHash')?.touched || registerForm.get('passwordHash')?.dirty">
        <div class="validation-item" [class.invalid]="registerForm.get('passwordHash')?.hasError('minlength')">
          <span class="icon">{{ registerForm.get('passwordHash')?.hasError('minlength') ? 'âŒ' : 'âœ…' }}</span>
          LegalÃ¡bb 8 karakter
        </div>
        <div class="validation-item" [class.invalid]="registerForm.get('passwordHash')?.hasError('uppercase')">
          <span class="icon">{{ registerForm.get('passwordHash')?.hasError('uppercase') ? 'âŒ' : 'âœ…' }}</span>
          LegalÃ¡bb egy nagybetÅ±
        </div>
        <div class="validation-item" [class.invalid]="registerForm.get('passwordHash')?.hasError('lowercase')">
          <span class="icon">{{ registerForm.get('passwordHash')?.hasError('lowercase') ? 'âŒ' : 'âœ…' }}</span>
          LegalÃ¡bb egy kisbetÅ±
        </div>
        <div class="validation-item" [class.invalid]="registerForm.get('passwordHash')?.hasError('number')">
          <span class="icon">{{ registerForm.get('passwordHash')?.hasError('number') ? 'âŒ' : 'âœ…' }}</span>
          LegalÃ¡bb egy szÃ¡m
        </div>
        <div class="validation-item" [class.invalid]="registerForm.get('passwordHash')?.hasError('specialChar')">
          <span class="icon">{{ registerForm.get('passwordHash')?.hasError('specialChar') ? 'âŒ' : 'âœ…' }}</span>
          LegalÃ¡bb egy speciÃ¡lis karakter
        </div>
      </div>

      <div class="form-group password-group">
        <label for="password2">JelszÃ³ Ãºjra:</label>
        <div class="password-wrapper">
          <input #password2Input id="password2" type="password" formControlName="passwordHash2" placeholder="********" autocomplete="new-password" class="form-input"/>
          <button type="button" class="toggle-password" (click)="togglePassword2Visibility()">
            <span *ngIf="!showPassword2" class="eye-icon">ğŸ‘ï¸</span>
            <span *ngIf="showPassword2" class="eye-icon">ğŸ™ˆ</span>
          </button>
        </div>
      </div>

      <div class="error-message" *ngIf="registerForm.errors?.['passwordsMismatch'] && registerForm.get('jelszo2')?.touched">
        A kÃ©t jelszÃ³ nem egyezik
      </div>

      <button type="submit" [disabled]="registerForm.invalid" class="submit-btn">RegisztrÃ¡ciÃ³</button>

    </form>
  </div>
</div>
